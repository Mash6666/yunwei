# 系统运维指南

## CPU性能优化

### CPU使用率过高排查步骤
1. 使用`top`命令查看CPU使用率最高的进程
2. 使用`ps aux --sort=-%cpu`命令按CPU使用率排序
3. 使用`kill -9 PID`命令终止异常进程
4. 检查系统负载：`uptime`命令
5. 分析系统日志：`/var/log/syslog`或`journalctl -xe`

### CPU优化建议
- 定期清理不必要的进程
- 升级硬件配置
- 优化应用程序算法
- 使用CPU亲和性设置进程优先级

## 内存管理

### 内存不足处理
1. 检查内存使用情况：`free -h`
2. 查看内存占用最高的进程：`ps aux --sort=-%mem`
3. 清理系统缓存：`echo 3 > /proc/sys/vm/drop_caches`
4. 重启占用内存过多的服务

### 内存优化技巧
- 使用交换文件扩展虚拟内存
- 定期重启长时间运行的进程
- 监控内存泄漏问题
- 优化应用程序内存使用

## 磁盘空间管理

### 磁盘空间不足排查
1. 查看磁盘使用情况：`df -h`
2. 查找大文件：`find / -type f -size +100M 2>/dev/null`
3. 清理日志文件：`journalctl --vacuum-time=7d`
4. 删除临时文件：`rm -rf /tmp/*`

### 磁盘优化建议
- 定期清理不必要的文件
- 使用磁盘压缩技术
- 配置日志轮转
- 监控磁盘使用趋势

## 网络故障排查

### 网络连接问题
1. 检查网络接口：`ip addr show`
2. 测试网络连通性：`ping 8.8.8.8`
3. 查看路由表：`ip route show`
4. 检查DNS解析：`nslookup google.com`
5. 查看网络连接：`netstat -tuln`

### 常见网络问题解决
- 重启网络服务：`systemctl restart network`
- 重置网络配置
- 更新网络驱动程序
- 检查防火墙规则

## 系统安全

### 安全检查清单
- 更新系统补丁
- 检查用户权限
- 审查开放端口
- 监控异常登录
- 备份重要数据

### 安全加固措施
- 禁用不必要的服务
- 配置防火墙规则
- 使用强密码策略
- 启用SSH密钥认证
- 定期安全扫描

## 监控和告警

### 系统监控指标
- CPU使用率
- 内存使用率
- 磁盘I/O
- 网络流量
- 系统负载

### 告警设置建议
- CPU使用率超过80%
- 内存使用率超过90%
- 磁盘空间不足10%
- 网络延迟过高
- 进程异常退出

## 日志管理

### 重要日志文件
- 系统日志：/var/log/syslog
- 内核日志：/var/log/kern.log
- 应用日志：/var/log/app/
- 安全日志：/var/log/auth.log
- 访问日志：/var/log/access.log

### 日志分析技巧
- 使用grep过滤日志
- 使用awk分析日志格式
- 使用sort统计日志频次
- 使用tail实时查看日志
- 使用journalctl查看systemd日志